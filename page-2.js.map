{"version":3,"file":"page-2.js","sources":["../src/gallery.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n\nconst API_KEY = '45947760-a7d8d36d32b01afaf5acf1299'; \nconst form = document.querySelector('.search-form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('#loader');\nlet lightbox;\n\n\nasync function fetchImages(query) {\n  try {\n    loader.style.display = 'block'; \n    const response = await fetch(`https://pixabay.com/api/?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`);\n    loader.style.display = 'none'; \n    if (!response.ok) {\n      throw new Error('Problem z pobieraniem danych');\n    }\n    const data = await response.json();\n    return data.hits;\n  } catch (error) {\n    console.error('Błąd w zapytaniu:', error);\n    loader.style.display = 'none'; \n    iziToast.error({\n      title: 'Error',\n      message: 'Problem with fetching images',\n    });\n    return [];\n  }\n}\n\n\nfunction displayImages(images) {\n  gallery.innerHTML = ''; \n  if (images.length === 0) {\n    iziToast.info({\n      title: 'No Images',\n      message: 'Sorry, there are no images matching your search query. Please try again!',\n    });\n    return;\n  }\n\n  gallery.classList.remove('hidden');\n\n  const markup = images.map(image => `\n    <a href=\"${image.largeImageURL}\" class=\"gallery-item\">\n      <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n      <div class=\"image-info\">\n        <p><span class=\"image-info-label\">Likes:</span> <span class=\"image-info-value\">${image.likes}</span></p>\n        <p><span class=\"image-info-label\">Views:</span> <span class=\"image-info-value\">${image.views}</span></p>\n        <p><span class=\"image-info-label\">Comments:</span> <span class=\"image-info-value\">${image.comments}</span></p>\n        <p><span class=\"image-info-label\">Downloads:</span> <span class=\"image-info-value\">${image.downloads}</span></p>\n      </div>\n    </a>\n  `).join('');\n\n  gallery.innerHTML = markup;\n\n  if (lightbox) {\n    lightbox.refresh();\n  } else {\n    lightbox = new SimpleLightbox('.gallery-item', { captionsData: 'alt', captionDelay: 250 });\n  }\n}\n\n\nform.addEventListener('submit', async (event) => {\n  event.preventDefault();\n  const query = document.querySelector('#query').value.trim();\n\n  if (query) {\n    const images = await fetchImages(query); \n    displayImages(images); \n  }\n});\n"],"names":["API_KEY","form","gallery","loader","lightbox","fetchImages","query","response","error","iziToast","displayImages","images","markup","image","SimpleLightbox","event"],"mappings":"+IAMA,MAAMA,EAAU,qCACVC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAC/C,IAAIC,EAGJ,eAAeC,EAAYC,EAAO,CAChC,GAAI,CACFH,EAAO,MAAM,QAAU,QACvB,MAAMI,EAAW,MAAM,MAAM,gCAAgCP,CAAO,MAAM,mBAAmBM,CAAK,CAAC,0DAA0D,EAE7J,GADAH,EAAO,MAAM,QAAU,OACnB,CAACI,EAAS,GACZ,MAAM,IAAI,MAAM,8BAA8B,EAGhD,OADa,MAAMA,EAAS,QAChB,IACb,OAAQC,EAAO,CACd,eAAQ,MAAM,oBAAqBA,CAAK,EACxCL,EAAO,MAAM,QAAU,OACvBM,EAAS,MAAM,CACb,MAAO,QACP,QAAS,8BACf,CAAK,EACM,EACR,CACH,CAGA,SAASC,EAAcC,EAAQ,CAE7B,GADAT,EAAQ,UAAY,GAChBS,EAAO,SAAW,EAAG,CACvBF,EAAS,KAAK,CACZ,MAAO,YACP,QAAS,0EACf,CAAK,EACD,MACD,CAEDP,EAAQ,UAAU,OAAO,QAAQ,EAEjC,MAAMU,EAASD,EAAO,IAAIE,GAAS;AAAA,eACtBA,EAAM,aAAa;AAAA,kBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,yFAEiCA,EAAM,KAAK;AAAA,yFACXA,EAAM,KAAK;AAAA,4FACRA,EAAM,QAAQ;AAAA,6FACbA,EAAM,SAAS;AAAA;AAAA;AAAA,GAGzG,EAAE,KAAK,EAAE,EAEVX,EAAQ,UAAYU,EAEhBR,EACFA,EAAS,QAAO,EAEhBA,EAAW,IAAIU,EAAe,gBAAiB,CAAE,aAAc,MAAO,aAAc,GAAG,CAAE,CAE7F,CAGAb,EAAK,iBAAiB,SAAU,MAAOc,GAAU,CAC/CA,EAAM,eAAc,EACpB,MAAMT,EAAQ,SAAS,cAAc,QAAQ,EAAE,MAAM,OAErD,GAAIA,EAAO,CACT,MAAMK,EAAS,MAAMN,EAAYC,CAAK,EACtCI,EAAcC,CAAM,CACrB,CACH,CAAC"}